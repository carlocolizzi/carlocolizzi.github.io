<!DOCTYPE html>
<html  >
<head>
  <!-- Site made with Mobirise Website Builder v5.6.13, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v5.6.13, mobirise.com">
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:image:src" content="">
  <meta property="og:image" content="">
  <meta name="twitter:title" content="CompRobo Warmup">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/d20-128x128-1.png" type="image/x-icon">
  <meta name="description" content="">
  
  
  <title>CompRobo Warmup</title>
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/socicon/css/styles.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Jost:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Jost:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap"></noscript>
  <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css"><link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
  
  
  
  
</head>
<body>
  
  <section data-bs-version="5.1" class="content4 cid-tm8xnkQ9E2" id="content4-3u">
    

    
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="title col-md-12 col-lg-10">
                <h3 class="mbr-section-title mbr-fonts-style align-center mb-4 display-2">
                    <strong>Warmup Project</strong></h3>
                <h4 class="mbr-section-subtitle align-center mbr-fonts-style mb-4 display-7"><a href="https://github.com/carlocolizzi/warmup_project.git" class="text-primary" target="_blank">GitHub Repo</a></h4>
                
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="menu menu2 cid-tm3DbuXwWe" once="menu" id="menu2-3s">
    
    <nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
        <div class="container">
            <div class="navbar-brand">
                
                <span class="navbar-caption-wrap"><a class="navbar-caption text-primary display-7" href="index.html">Carlo Colizzi<br>Robotics Engineer</a></span>
            </div>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav nav-dropdown" data-app-modern-menu="true"><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="index.html">Home</a></li>
                    <li class="nav-item dropdown"><a class="nav-link link text-black text-primary dropdown-toggle display-4" href="index.html#gallery5-11" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">My Works</a><div class="dropdown-menu" aria-labelledby="dropdown-704"><div class="dropdown"><a class="text-black text-primary dropdown-item dropdown-toggle display-4" href="index.html#gallery5-11" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">Automatic Chess</a><div class="dropdown-menu dropdown-submenu" aria-labelledby="dropdown-696"><a class="text-black text-primary dropdown-item display-4" href="chess.html">Home</a><a class="text-black text-primary dropdown-item display-4" href="chess-timeline.html">Timeline</a><a class="text-black text-primary dropdown-item display-4" href="chess-subsystems.html">Subsystems<br></a></div></div><a class="text-black text-primary dropdown-item show display-4" href="nerf.html">Sentry Nerf Gun</a><a class="text-black text-primary dropdown-item show display-4" href="rover.html">Autonomous RC Car</a><a class="text-black text-primary dropdown-item show display-4" href="comprobo-warmup.html">Controlling a Neato</a><a class="text-black text-primary dropdown-item show display-4" href="rocketry.html">Rocketry</a><a class="text-black text-primary dropdown-item show display-4" href="comprobo-localization.html">WIP: Neato Particle Filter</a><a class="text-black text-primary dropdown-item show display-4" href="index.html#gallery5-11">WIP: Covid-19 LFT Manufacturing</a></div></li><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="index.html#image1-b">About Me</a></li></ul>
                
                <div class="navbar-buttons mbr-section-btn"><a class="btn btn-black-outline display-4" href="index.html#form4-6">
                        Contact</a></div>
            </div>
        </div>
    </nav>
</section>

<section data-bs-version="5.1" class="content5 cid-tm8xoXgnf6" id="content5-3v">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-12 col-lg-10">
                
                <h4 class="mbr-section-subtitle mbr-fonts-style mb-4 display-2"><strong>
                    Teleop</strong></h4>
                <p class="mbr-text mbr-fonts-style display-7">For this first part of the project, we focused on building a teleoperation keyboard control for the Neato, similar to what is contained in the <em>teleop_twist_key</em> package.  This allows the robot to move in all directions at the user's command. <br><br>We decided to use the WASD keys to move the Neato around, specifically:<br><br>- "W" moves the robot forward<br>- "A" rotates the robot left (or counterclockwise)<br>- "S" moves the robot backward<br>- "D" rotates the robot right (or clockwise)<br>- Any other key will stop the robot from moving<br><br>We found out quickly that the robot would not stop when we lifted our fingers from one of the WASD keys, and therefore had to implement a new way of stopping the Neato.</p>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content5 cid-tm8xv7qHB7" id="content5-3w">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-12 col-lg-10">
                
                <h4 class="mbr-section-subtitle mbr-fonts-style mb-4 display-2"><strong>
                    Drive in a Square</strong></h4>
                <p class="mbr-text mbr-fonts-style display-7">For the second part of the project, we used a simple while loop and a series of "sleep" commands to make the robot turn and go forwards. Our code creates a publisher and then follows the following flow:<br><br>1. Go forwards - publish command<br>2. Sleep 3s (time taken to go forwards 1m)<br>3. Turn left - publish command<br>4. Sleep 2.1s (time needed to turn 90ยบ)<br>5. Repeat<br><br>After the first implementation of our code, we noticed that the Neato often was still moving forwards when it started to turn, and vice versa. Therefore, we decided to add a "stop" command, along with a 0.5s sleep, after steps 2 and 4. This allowed the Neato to come to a complete stop before taking on the next command, ensuring more consistent behavior.</p>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content5 cid-tm8xwIpZlm" id="content5-3x">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-12 col-lg-10">
                
                <h4 class="mbr-section-subtitle mbr-fonts-style mb-4 display-2"><strong>
                    Wall Following</strong></h4>
                <p class="mbr-text mbr-fonts-style display-7">
                    For the third part of the project, we created a script that made the Neato follow a wall. We started by assuming that the Neato would always be following a wall to its right side, moving forward at a constant linear velocity, and steering to keep a constant distance of 1m from the wall.</p>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content10 cid-tm8xx99AaD" id="content10-3y">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md">
                
                <h6 class="mbr-section-subtitle mbr-fonts-style mb-4 display-5"><strong>
                    Distance to Wall</strong></h6>
            </div>
            <div class="col-md-12 col-lg-6">
                <p class="mbr-text mbr-fonts-style display-7">The first step of our implementation was to find a way of sensing how close the Neato was to the wall. After trying a few different methods, we ended up simply finding the minimum laser scan value of the right-hand half of the Neato's laser scan array (elements 180 to 359). This value can be interpreted as the point-to-line distance from the center of the Neato's LIDAR sensor to a wall on the Neato's right side.</p>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content10 cid-tm8xyGG9zf" id="content10-3z">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md">
                
                <h6 class="mbr-section-subtitle mbr-fonts-style mb-4 display-5"><strong>
                    PID Steering</strong></h6>
            </div>
            <div class="col-md-12 col-lg-6">
                <p class="mbr-text mbr-fonts-style display-7">By using an imported library (https://pypi.org/project/simple-pid/), we created a PID controller with a set point equal to 1.0 (the distance in meters that we wanted the Neato to follow the wall at). Each time our ROS node received a new laser scan message, we used the PID controller to calculate an angular velocity magnitude to steer the Neato towards following the wall at a constant distance. The PID controller basically functions as a proportional controller that steers the Neato towards or away from the wall proportional to its distance error from 1m to the wall. However, our PID implementation is not as liable to oscillation as a simple proportional controller would be.<br><br></p>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content7 cid-tm8xCE07rV" id="content7-40">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md-10">
                <blockquote>
                <h5 class="mbr-section-title mbr-fonts-style mb-2 display-7"><strong>Results</strong></h5>
                <p class="mbr-text mbr-fonts-style display-4">We tested our wall following algorithm in the simulated maze environment where it has demonstrated the ability to follow both inside and outside corners, even steering the Neato 180 degrees around protruding walls.<br></p></blockquote>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content5 cid-tm8xEcTLqJ" id="content5-41">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-12 col-lg-10">
                
                <h4 class="mbr-section-subtitle mbr-fonts-style mb-4 display-2"><strong>Person Following</strong></h4>
                <p class="mbr-text mbr-fonts-style display-7">
                    You can use content blocks to arrange your articles, large texts, instructions. Combine these blocks with media blocks to add illustrations and video tutorials. You can use various content blocks to work with your text. Add quotations, lists, buttons. Select your text to change its formatting or add links. Mobirise is a simple website builder that helps you create amazing web pages without knowing any code.</p>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content10 cid-tm8xGB04JL" id="content10-42">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md">
                
                <h6 class="mbr-section-subtitle mbr-fonts-style mb-4 display-5"><strong>Object Detection</strong></h6>
            </div>
            <div class="col-md-12 col-lg-6">
                <p class="mbr-text mbr-fonts-style display-7">The first part of our person following algorithm was the object detector. We used a naive method of object detection given that we were testing in an empty world within the Neato simulator where each laser scan angles from the Neato where nothing was detected had values equal to inf. By filtering the scans for non-infinite laser scan points and finding the centroid of these points. We then calculated the object's location in global coordinates and stored it to a state member.<br>\subsection{</p>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content10 cid-tm8xGPr5Q9" id="content10-43">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md">
                
                <h6 class="mbr-section-subtitle mbr-fonts-style mb-4 display-5"><strong>
                    Object Following</strong></h6>
            </div>
            <div class="col-md-12 col-lg-6">
                <p class="mbr-text mbr-fonts-style display-7">This portion of our follower algorithm heavily relied on the idealized odometry localization from the simulated Neato environment. We calculated the Neato's desired heading that pointed from the Neato's global position to the global position of the detected object. We commanded the Neato to drive this heading by using a PID controller. Each loop iteration, we changed the PID's setpoint to the desired heading and fed it the Neato's current heading as the process variable, sending the PID's output to the Neato as an angular velocity command. Additionally, we implemented a second PID controller to command the Neato's linear velocity using a constant setpoint, and a process variable of the Neato's current distance to the detected object.<br></p>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content7 cid-tm8zvzXlV0" id="content7-4b">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md-10">
                <blockquote>
                <h5 class="mbr-section-title mbr-fonts-style mb-2 display-7"><strong>Results</strong></h5>
                <p class="mbr-text mbr-fonts-style display-4">As long as our object detection was actively sensing the location of an object, we were able to command the Neato to drive while steering to the object, slowing down and ultimately stopping right next to the object.<br></p></blockquote>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content4 cid-tm8Aw73jLo" id="content4-4d">
    

    
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="title col-md-12 col-lg-10">
                <h3 class="mbr-section-title mbr-fonts-style align-center mb-4 display-2">
                    <strong>Obstacle Avoidance</strong></h3>
                
                
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content10 cid-tm8xLT81L2" id="content10-46">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md">
                
                <h6 class="mbr-section-subtitle mbr-fonts-style mb-4 display-5"><strong>
                    Object Detection</strong></h6>
            </div>
            <div class="col-md-12 col-lg-6">
                <p class="mbr-text mbr-fonts-style display-7">In this script we used an approach similar to the one used in the "person following" part of the project.&nbsp;<br></p>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content10 cid-tm8xMkaF11" id="content10-47">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md">
                
                <h6 class="mbr-section-subtitle mbr-fonts-style mb-4 display-5"><strong>Odometry</strong></h6>
            </div>
            <div class="col-md-12 col-lg-6">
                <p class="mbr-text mbr-fonts-style display-7">In addition to the laser scan, our script also had a second subscriber for the odometry. This was used to find the Neato's position at at any point in time. We had an arbitrary target in global coordinates, and thus we were able to calculate the vector to get to this target. We then used the odometry to find the robot's position, and subtracted one from the other to obtain a vector for the direction we wanted to travel in.<br></p>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content10 cid-tm8xNWL3zZ" id="content10-48">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md">
                
                <h6 class="mbr-section-subtitle mbr-fonts-style mb-4 display-5"><strong>Avoiding the Obstacles</strong></h6>
            </div>
            <div class="col-md-12 col-lg-6">
                <p class="mbr-text mbr-fonts-style display-7">We used the information gathered using the laser scan to pinpoint the location of the object in local coordinates, creating a vector pointing away from the obstacle and towards the Neato. We then assigned a weight to this vector, inversely proportional to the distance to the obstacle, so that an obstacle gained "importance" as it got closer. We then added this vector to the other two previously obtained, thus resulting in a vector that suggested the "best" path to reach the target point without hitting any obstacles. We used a PID controller (section 3.2) to control the steering angle, allowing the Neato to steer without abrupt turns.<br></p>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content4 cid-tm8AwXMQqW" id="content4-4e">
    

    
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="title col-md-12 col-lg-10">
                <h3 class="mbr-section-title mbr-fonts-style align-center mb-4 display-2">
                    <strong>Finite-State Control</strong></h3>
                
                
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="image1 cid-tm8xTkvJK5" id="image1-49">
    

    
    

    <div class="container">
        <div class="row align-items-center">
            <div class="col-12 col-lg-6">
                <div class="image-wrapper">
                    <img src="assets/images/screen-shot-2022-11-03-at-11.21.53-am-1076x330.png" alt="Mobirise Website Builder">
                    <p class="mbr-description mbr-fonts-style pt-2 align-center display-4">
                    Table 1: State descriptions</p>
                </div>
            </div>
            <div class="col-12 col-lg">
                <div class="text-wrapper">
                    <h3 class="mbr-section-title mbr-fonts-style mb-3 display-5">
                        <strong>Desired Behaviors&nbsp;</strong></h3>
                    <p class="mbr-text mbr-fonts-style display-7">For our finite state controlled Neato routine, we wanted to combine our solutions for object following and wall following. Our goal was to run this routine in the simulated Neato environment with a cylindrical object placed on the plane. We wanted to drive our Neato up to the cylinder, turn the Neato to align its right side to the wall of the cylinder, and drive the Neato around and around the outside of the cylinder.<br></p>
                </div>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="image2 cid-tm8xU13gcm" id="image2-4a">
    

    
    

    <div class="container">
        <div class="row align-items-center">
            <div class="col-12 col-lg-6">
                <div class="image-wrapper">
                    <img src="assets/images/screen-shot-2022-11-03-at-11.21.40-am-1226x806.png" alt="Mobirise Website Builder">
                    <p class="mbr-description mbr-fonts-style mt-2 align-center display-4">
                        Table 2: State-transition table</p>
                </div>
            </div>
            <div class="col-12 col-lg">
                <div class="text-wrapper">
                    <h3 class="mbr-section-title mbr-fonts-style mb-3 display-5">
                        <strong>Switching between Behaviors</strong></h3>
                    <p class="mbr-text mbr-fonts-style display-7">Our finite state machine switches between distinct behaviors based on whether the Neato's LIDAR can sense an object and if so, how close the Neato is to the object. If the object detection does not pick up anything, we stop the Neato's drive motors. If an object is detected but is further than 1.1m away from the Neato, we activate the object following behavior, and if the object is less than 1.1m away from the Neato, we first turn the Neato $90^\circ$ to the left and then enter the wall following behavior.<br></p>
                </div>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="footer7 cid-tm3DeIwA1r" once="footers" id="footer7-3t">

    

    

    <div class="container">
        <div class="media-container-row align-center mbr-white">
            <div class="col-12">
                <p class="mbr-text mb-0 mbr-fonts-style display-7">Carlo Colizzi 2022 - Olin College of Engineering</p>
            </div>
        </div>
    </div>
</section><section class="display-7" style="padding: 0;align-items: center;justify-content: center;flex-wrap: wrap;    align-content: center;display: flex;position: relative;height: 4rem;"><a href="https://mobiri.se/2899369" style="flex: 1 1;height: 4rem;position: absolute;width: 100%;z-index: 1;"><img alt="" style="height: 4rem;" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="></a><p style="margin: 0;text-align: center;" class="display-7">Designed with &#8204;</p><a style="z-index:1" href="https://mobirise.com/html-builder.html">HTML Website Builder</a></section><script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>  <script src="assets/smoothscroll/smooth-scroll.js"></script>  <script src="assets/ytplayer/index.js"></script>  <script src="assets/dropdown/js/navbar-dropdown.js"></script>  <script src="assets/theme/js/script.js"></script>  
  
  
</body>
</html>