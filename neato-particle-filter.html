<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Neato Particle Filter - Carlo Colizzi</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.cdnfonts.com/css/roobert" rel="stylesheet">
</head>
<body>
    <!-- Header placeholder -->
    <div id="header-placeholder"></div>

    <main class="case-study-page">
        <!-- Hero Section -->
        <section class="case-study-hero">
            <div class="container">
                <div class="case-study-intro">
                    <div class="case-study-meta">
                        <span class="case-study-year">2022</span>
                        <span class="case-study-category">Robotics & Localization</span>
                    </div>
                    <h1>Neato Particle Filter</h1>
                    <p class="case-study-description">An advanced localization algorithm that accurately determines a robot's position in a given map using odometry and LIDAR sensor data. This project implements a particle filter system that allows the Neato robot to estimate its position with high precision despite sensor noise and environmental complexities.</p>
                    <div class="github-container">
                        <a href="https://github.com/carlocolizzi/neato-particle-filter" target="_blank" class="github-button">
                            <i class="fab fa-github"></i>
                            View Code
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Overview Section -->
        <section class="case-study-overview">
            <div class="container">
                <div class="overview-grid">
                    <div class="overview-item">
                        <h3>Framework</h3>
                        <div class="stat">ROS2</div>
                        <p>Robot Operating System</p>
                    </div>
                    <div class="overview-item">
                        <h3>Implementation</h3>
                        <div class="stat">Python</div>
                        <p>Programming language</p>
                    </div>
                    <div class="overview-item">
                        <h3>Visualization</h3>
                        <div class="stat">RViz</div>
                        <p>Real-time monitoring</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Challenge Section -->
        <section class="case-study-implementation">
            <div class="container">
                <div class="section-content">
                    <h2>The Challenge</h2>
                    <div class="implementation-content">
                        <p>Accurate self-localization is one of the most fundamental challenges in robotics. To function autonomously, a robot must know where it is in its environment. This project addressed the complex problem of determining a robot's precise position and orientation using noisy sensor data and imperfect odometry measurements.</p>
                        <p>The localization challenge involved handling inherent noise and inaccuracies in sensor measurements, compensating for odometry drift that accumulates over time, and developing algorithms that can process sensor data in real-time. Additionally, the system needed to effectively estimate the robot's position and orientation (pose), implement efficient particle distribution and resampling strategies, and correctly integrate multiple coordinate frames (map, odom, baselink) for accurate spatial reasoning.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Image Section -->
        <section class="image-section" style="margin-bottom: 4rem;">
            <div class="container">
                <div class="section-image">
                    <img src="assets/images/particle-filter-3.jpg" alt="Gazebo Simulation Environment">
                    <p class="image-caption">Particle Cloud Visualization</p>
                </div>
            </div>
        </section>

        <!-- Solution Section -->
        <section class="case-study-implementation">
            <div class="container">
                <div class="section-content">
                    <h2>The Solution</h2>
                    <div class="implementation-content">
                        <p>We implemented a particle filter algorithm that solved the localization problem through a probabilistic approach. The system initialized particles (potential robot positions) randomly distributed across the map, used odometry data to update particle positions as the robot moved, and assigned weights to particles based on how well they matched actual LIDAR readings. The algorithm implemented intelligent resampling to concentrate particles in likely locations, calculated the robot's estimated position by averaging weighted particle positions, and provided an interface for manual position resets when necessary.</p>
                        <p>The particle filter works through an iterative process of prediction and correction. As the robot moves, each particle's position is updated based on odometry data, while the filter simulates LIDAR readings for each particle position on the map. These simulated readings are compared with actual sensor data, and particles with readings similar to actual data receive higher weights. During resampling, particles with higher weights are more likely to be selected, and this process continues until particles converge around the most probable location.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Image Section -->
        <section class="image-section" style="margin-bottom: 4rem;">
            <div class="container">
                <div class="section-image">
                    <img src="assets/images/particle-filter-4.png" alt="Particle Cloud Visualization">
                    <p class="image-caption">Gazebo Simulation Environment</p>
                </div>
            </div>
        </section>

        <!-- Implementation Section -->
        <section class="case-study-implementation">
            <div class="container">
                <div class="section-content">
                    <h2>How It Works</h2>
                    <div class="implementation-content">
                        <p>Our particle filter implementation followed a structured approach to localization. The filter began by generating a set of randomly distributed particles across the map, with a higher concentration around the initial estimate of the robot's position. Each particle represented a potential pose (position and orientation) of the robot. As the robot moved through its environment, we used data from the odometry sensor to update the position of each particle, simulating how the particles would move if they were the actual robot while incorporating realistic motion noise to account for sensor inaccuracies.</p>
                        <p>For each particle, we simulated what the robot's LIDAR scan would look like if the robot were at that particle's position. By comparing these simulated scans with the actual LIDAR readings from the robot, we assigned weights to each particle based on how closely the simulated and actual scans matched. After assigning weights to all particles, we implemented a resampling step where particles were selected with probability proportional to their weights, meaning that particles with higher weights were more likely to be selected for the next iteration.</p>
                        <p>The final estimate of the robot's pose was calculated by taking a weighted average of all particle positions, providing a continuous, smooth estimate of the robot's location within the map. We also implemented functionality to "reset" the filter with a new initial pose estimate when necessary, using RViz to provide a new initial pose represented as a green arrow to re-initialize the particle distribution. The entire process was visualized in RViz, showing the particle cloud, laser scans, and estimated robot position in real-time, which was crucial for debugging and demonstrating the effectiveness of the algorithm.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Image Section -->
        <section class="image-section" style="margin-bottom: 4rem;">
            <div class="container">
                <div class="section-image">
                    <img src="assets/images/particle-filter-2.png" alt="Laser Scan Alignment">
                    <p class="image-caption">Laser Scan Alignment with Map</p>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section class="case-study-implementation">
            <div class="container">
                <div class="section-content">
                    <h2>Algorithm Performance</h2>
                    <div class="implementation-content">
                        <p>The particle filter algorithm demonstrated successful tracking in various environments, with particles converging to the robot's actual position and effective handling of sensor noise and uncertainty. The system provided smooth pose estimation with minimal jumps and maintained real-time performance suitable for navigation tasks. The algorithm's structure involved initiating random particles in the map frame, updating particles using odometry data from the odom frame, and adjusting particle weights based on laser scan agreement in the baselink frame.</p>
                        <p>The system's frame integration managed multiple coordinate systems effectively, with the map frame serving as the global reference for the environment, the odom frame tracking the robot's traveled distance (though prone to drift), and the baselink frame representing the robot's local coordinate system. Transform management between all coordinate frames, coordinate conversions for sensor data processing, and publication of corrected transforms to ROS2 ensured accurate spatial reasoning throughout the localization process.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Applications Section -->
        <section class="case-study-implementation">
            <div class="container">
                <div class="section-content">
                    <h2>Applications & Results</h2>
                    <div class="implementation-content">
                        <p>The particle filter implementation achieved accurate localization in predefined maps, serving as a foundation for autonomous navigation systems and providing the basis for path planning and obstacle avoidance. The system demonstrated effective recovery capability through manual pose resets when necessary, ensuring robust operation even when the filter lost track of the robot's position.</p>
                        <p>This project served as both a platform for further robotics research and a demonstration of probabilistic robotics principles. The implementation provided an educational tool for understanding localization algorithms while showcasing the practical application of advanced mathematical concepts in real-world robotics systems. The successful integration with ROS2 and visualization tools made the algorithm accessible for debugging, demonstration, and further development.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Next Project -->
        <section class="next-project">
            <div class="container">
                <a href="tricycle.html" class="next-project-link">
                    <span>Next Project</span>
                    <h3>WIP: Tricycle Protocol →</h3>
                </a>
            </div>
        </section>
    </main>

    <!-- Footer placeholder -->
    <div id="footer-placeholder"></div>

    <script>
        // Load header
        fetch('components/header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
            });

        // Load footer
        fetch('components/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });
    </script>
    <script src="assets/js/main.js"></script>
</body>
</html>