<!DOCTYPE html>
<html  >
<head>
  <!-- Site made with Mobirise Website Builder v5.6.13, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v5.6.13, mobirise.com">
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:image:src" content="">
  <meta property="og:image" content="">
  <meta name="twitter:title" content="Automatic Chess - Subsystems">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/logo-1.png" type="image/x-icon">
  <meta name="description" content="">
  
  
  <title>Automatic Chess - Subsystems</title>
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/socicon/css/styles.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Jost:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Jost:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap"></noscript>
  <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css"><link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
  
  
  
  
</head>
<body>
  
  <section data-bs-version="5.1" class="menu menu2 cid-tm3DbuXwWe" once="menu" id="menu2-17">
    
    <nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
        <div class="container">
            <div class="navbar-brand">
                
                <span class="navbar-caption-wrap"><a class="navbar-caption text-primary display-7" href="https://mobiri.se">Carlo Colizzi<br>Robotics Engineer</a></span>
            </div>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav nav-dropdown" data-app-modern-menu="true"><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="index.html">Home</a></li>
                    <li class="nav-item dropdown"><a class="nav-link link text-black text-primary dropdown-toggle display-4" href="index.html#gallery5-11" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">My Works</a><div class="dropdown-menu" aria-labelledby="dropdown-704"><div class="dropdown"><a class="text-black text-primary dropdown-item dropdown-toggle display-4" href="index.html#gallery5-11" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">Automatic Chess</a><div class="dropdown-menu dropdown-submenu" aria-labelledby="dropdown-696"><a class="text-black text-primary dropdown-item display-4" href="chess.html">Home</a><a class="text-black text-primary dropdown-item display-4" href="chess-timeline.html">Timeline</a><a class="text-black text-primary dropdown-item display-4" href="chess-subsystems.html">Subsystems<br></a></div></div><a class="text-black text-primary dropdown-item show display-4" href="index.html#gallery5-11">Sentry Nerf Gun</a><a class="text-black text-primary dropdown-item show display-4" href="rover.html">Autonomous RC Car</a><a class="text-black text-primary dropdown-item show display-4" href="index.html#gallery5-11">Covid-19 LFT Manufacturing</a></div></li><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="index.html#image1-b">About Me</a></li></ul>
                
                <div class="navbar-buttons mbr-section-btn"><a class="btn btn-black-outline display-4" href="index.html#form4-6">
                        Contact</a></div>
            </div>
        </div>
    </nav>
</section>

<section data-bs-version="5.1" class="features4 cid-tm3E1BvWk7" id="features4-19">
    
    <div class="mbr-overlay"></div>
    <div class="container">
        <div class="mbr-section-head">
            <h4 class="mbr-section-title mbr-fonts-style align-center mb-0 display-2">
                <strong>Subsystems</strong></h4>
            
        </div>
        <div class="row mt-4">
            <div class="item features-image сol-12 col-md-6 col-lg-4">
                <div class="item-wrapper">
                    <div class="item-img">
                        <img src="assets/images/gantry-assbly-1288x667.png" alt="Mobirise Website Builder" title="">
                    </div>
                    <div class="item-content">
                        <h5 class="item-title mbr-fonts-style display-5"><strong>Mechanical</strong></h5>
                        <h6 class="item-subtitle mbr-fonts-style mt-1 display-7">Website Design</h6>
                        <p class="mbr-text mbr-fonts-style mt-3 display-7">Mobirise is an easy website builder. Just
                            drop site elements to your page, add content and style it to look the way you like.</p>
                    </div>
                    <div class="mbr-section-btn item-footer mt-2"><a href="chess-subsystems.html#content4-1a" class="btn item-btn btn-black display-7" target="_blank">Go to section &gt;</a></div>
                </div>
            </div>
            <div class="item features-image сol-12 col-md-6 col-lg-4">
                <div class="item-wrapper">
                    <div class="item-img">
                        <img src="assets/images/mbr-816x545.jpg" alt="Mobirise Website Builder" title="">
                    </div>
                    <div class="item-content">
                        <h5 class="item-title mbr-fonts-style display-5"><strong>Software</strong></h5>
                        <h6 class="item-subtitle mbr-fonts-style mt-1 display-7">
                            HTML/CSS Coding</h6>
                        <p class="mbr-text mbr-fonts-style mt-3 display-7">You don't have to code to create your own
                            site. Select one of available themes in the Mobirise Site Maker.</p>
                    </div>
                    <div class="mbr-section-btn item-footer mt-2"><a href="chess-subsystems.html#content4-1e" class="btn item-btn btn-black display-7" target="_blank">Go to section &gt;</a></div>
                </div>
            </div>
            <div class="item features-image сol-12 col-md-6 col-lg-4">
                <div class="item-wrapper">
                    <div class="item-img">
                        <img src="assets/images/mbr-816x543.jpg" alt="Mobirise Website Builder" title="">
                    </div>
                    <div class="item-content">
                        <h5 class="item-title mbr-fonts-style display-5"><strong>Electrical</strong></h5>
                        <h6 class="item-subtitle mbr-fonts-style mt-1 display-7">Creating Your Brand</h6>
                        <p class="mbr-text mbr-fonts-style mt-3 display-7">Select the theme that suits you. Each theme
                            in the Mobirise Website Software contains a set of unique blocks.<br></p>
                    </div>
                    <div class="mbr-section-btn item-footer mt-2"><a href="chess-subsystems.html#content4-1g" class="btn item-btn btn-black display-7" target="_blank">Go to section &gt;</a></div>
                </div>
            </div>

        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content4 cid-tm3ExHqdGm" id="content4-1a">
    

    
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="title col-md-12 col-lg-10">
                <h3 class="mbr-section-title mbr-fonts-style align-center mb-4 display-2">
                    <strong>Mechanical</strong></h3>
                <h4 class="mbr-section-subtitle align-center mbr-fonts-style mb-4 display-7">The two goals for the mechanical subsystem was to find a way to move the pieces across the board, and build an external structure to house the components.</h4>
                
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="image1 cid-tm3EU4jeeH" id="image1-1b">
    

    
    

    <div class="container">
        <div class="row align-items-center">
            <div class="col-12 col-lg-6">
                <div class="image-wrapper">
                    <img src="assets/images/full-assembly-1256x650.png" alt="Mobirise Website Builder">
                    <p class="mbr-description mbr-fonts-style pt-2 align-center display-4">FULL ASSEMBLY OF OUR HARDWARE SYSTEM. ITS MAIN COMPONENTS ARE TWO: THE BOX AND THE GANTRY.<br></p>
                </div>
            </div>
            <div class="col-12 col-lg">
                <div class="text-wrapper">
                    <h3 class="mbr-section-title mbr-fonts-style mb-3 display-5">
                        <strong>Gantry Design</strong></h3>
                    <p class="mbr-text mbr-fonts-style display-7">The first goal was done using an electromagnet moved by a two-axis gantry system, in turn controlled by two NEMA 17 stepper motors. We designed and 3D printed all mounts for the steppers, rods, electromagnets and bearings, allowing us to achieve very precise fits and iterate quickly between versions of the parts. The stepper motors themselves were connected to m8 “fast threaded” rods by couplings.This is what will move the electromagnet mount when the stepper motors are active. Two unthreaded rods were added to provide stability to the system.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="gallery1 cid-tm3FVESQi2" id="gallery1-1d">
    
    
    <div class="container">
        
        <div class="row mt-4">
            <div class="item features-image сol-12 col-md-6 col-lg-6">
                <div class="item-wrapper">
                    <div class="item-img">
                        <img src="assets/images/gantry-assbly-1288x667.png" alt="Mobirise Website Builder">
                    </div>
                    <div class="item-content">
                        
                        
                        <p class="mbr-text mbr-fonts-style mt-3 display-7">THIS IS THE FULL ASSEMBLY OF THE TWO-AXIS GANTRY SYSTEM.<br></p>
                    </div>
                    
                </div>
            </div>
            <div class="item features-image сol-12 col-md-6 col-lg-6">
                <div class="item-wrapper">
                    <div class="item-img">
                        <img src="assets/images/ball-bearing-mount-1288x667.png" alt="Mobirise Website Builder">
                    </div>
                    <div class="item-content">
                        
                        
                        <p class="mbr-text mbr-fonts-style mt-3 display-7">THIS IS USED TO HOLD THE BALL BEARING THAT ALLOWS ONE OF THE TWO RODS (Y-AXIS) TO SPIN WITHOUT RESISTANCE. THIS WAS DESIGNED SO THAT THE CENTER OF THE ROD WAS 25MM FROM THE GROUND, ALLOWING THE PIECES TO MOVE FREELY.<br></p>
                    </div>
                    
                </div>
            </div>
            <div class="item features-image сol-12 col-md-6 col-lg-6">
                <div class="item-wrapper">
                    <div class="item-img">
                        <img src="assets/images/electromagnet-mount-1288x667.png" alt="Mobirise Website Builder">
                    </div>
                    <div class="item-content">
                        
                        
                        <p class="mbr-text mbr-fonts-style mt-3 display-7">THIS IS USED TO HOLD THE ELECTROMAGNET THAT MAKES THE PIECE MOVE ACROSS THE BOARD. IT IS STABILISED BY TWO RODS: ONE THREADED, CONNECTED TO THE MOUNT VIA A SPECIAL NUT THAT ALLOWS IT TO MOVE, AND ONE UNTHREADED, CONNECTED TO THE MOUNT VIA A LINEAR BEARING.<br></p>
                    </div>
                    
                </div>
            </div>
            <div class="item features-image сol-12 col-md-6 col-lg-6">
                <div class="item-wrapper">
                    <div class="item-img">
                        <img src="assets/images/stepper-and-linear-bearing-mount-1288x667.png" alt="Mobirise Website Builder" title="">
                    </div>
                    <div class="item-content">
                        
                        
                        <p class="mbr-text mbr-fonts-style mt-3 display-7">THIS MOUNT GOES ON THE UNTHREADED SIDE OF THE Y-AXIS. IT HOUSES A STEPPER MOTOR AND AN UNTHREADED ROD, AND MOVES ALONG ITS AXIS THROUGH TWO LINEAR BEARINGS.<br></p>
                    </div>
                    
                </div>
            </div><div class="item features-image сol-12 col-md-6 col-lg-6">
                <div class="item-wrapper">
                    <div class="item-img">
                        <img src="assets/images/threaded-rod-second-axis-mount-1288x667.png" alt="Mobirise Website Builder" title="" data-slide-to="4" data-bs-slide-to="5">
                    </div>
                    <div class="item-content">
                        
                        
                        <p class="mbr-text mbr-fonts-style mt-3 display-7">THIS MOUNT GOES ON THE OPPOSITE SIDE OF THE Y-AXIS OF THE STEPPER MOUNT. IT HOUSES A BALL BEARING TO MAKE THE X-AXIS THREADED ROD MOVE FREELY AND A NUT TO CONNECT IT TO THE Y-AXIS THREADED ROD.<br></p>
                    </div>
                    
                </div>
            </div><div class="item features-image сol-12 col-md-6 col-lg-6">
                <div class="item-wrapper">
                    <div class="item-img">
                        <img src="assets/images/unthreaded-rod-mount-1288x667.png" alt="Mobirise Website Builder" title="" data-slide-to="5" data-bs-slide-to="5">
                    </div>
                    <div class="item-content">
                        
                        
                        <p class="mbr-text mbr-fonts-style mt-3 display-7">THIS IS A SIMPLE MOUNT TO HOUSE THE Y-AXIS UNTHREADED ROD. THIS WAS DESIGNED SO THAT THE CENTER OF THE ROD WAS 25MM FROM THE GROUND, ALLOWING THE PIECES TO MOVE FREELY.<br></p>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content7 cid-tm3SM9FxK2" id="content7-1l">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md-12">
                <blockquote>
                
                <p class="mbr-text mbr-fonts-style display-4">On a final note,we decided to make the playing field 20x20”. This is the standard size used in American tournaments and would allow our pieces enough space to pass in between squares without disturbing other pieces that may reside in those squares<br></p></blockquote>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content4 cid-tm3GKi3hU6" id="content4-1e">
    

    
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="title col-md-12 col-lg-10">
                <h3 class="mbr-section-title mbr-fonts-style align-center mb-4 display-2"><strong>Software</strong></h3>
                <h4 class="mbr-section-subtitle align-center mbr-fonts-style mb-4 display-7">The code for controlling and tracking the flow of a game as well as directing the steppers and electromagnet is held in Python. The two Arduinos are responsible for implementing the commands sent from Python through Serial ports. One Arduino is responsible for motors and the other for the hall effect sensors.<div><br></div><div>The class that controls the game and keeps track of the player’s and AI’s moves is the Board class from the documented Python Chess Library. This library does the heavy lifting in terms of checking for invalid moves, wins, checkmates, etc. The Chess Drive Class translates chess moves (i.e. move x squares) to commands for the motors (move x steps) and calls the Motor Class to send those commands to the Serial Class which handles communication between our python programs and our Arduinos. The Digital Output Class controls the electromagnet, also using Serial to send information to the Arduino.</div><div><br></div><div>The sensor matrix switching is handled by the Arduino and transmitted to Python through the Serial Class. When Python then asks for an output from one of those sensors, the Arduino will automatically switch through all 64 states and print out the values as a Matrix, which Python reads and interprets.</div><div><br></div><div>We Implemented a MoveSensor class to handle translating the sensor inputs into moves. It stores the previous state of the hall effects and compares that to the current. When it does not see a magnet where there used to be one, we know a piece has been picked up. When it does see a magnet where there used to not be one, we know a piece has been set down. The MoveSensor class will keep track of the previous pick up. When a piece has been set down after that, it knows where the piece moved from and where it landed. To do captures, the MoveSensor keeps track of the last two piece pickups. If it detects two pickups before a put down, and the user puts down a piece on the most recent pick up square, it assumes a capture has been made. En passant and castling have not been handled, but could be with more time and a similar strategy to that as above.</div><div><br></div><div><a href="https://github.com/gabbyblake/PIE-Final-Project-Chess" class="text-primary" target="_blank">THE GITHUB REPOSITORY</a></div><div><a href="https://github.com/gabbyblake/PIE-Final-Project-Chess" class="text-primary" target="_blank"><br></a></div><div>The chess engine we used to be the AI chess player was the Stockfish 14.1 chess engine. Through the Pychess library and the UCI (Universal chess interface), the chess engine receives the moves of the player and responds accordingly. Then the engine’s move is translated to physical changes.</div><div><br></div><div>All links to external sources used can be found in Resources</div></h4>
                
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="image3 cid-tm3GN6hVbs" id="image3-1f">
    

    
    

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-lg-10">
                <div class="image-wrapper">
                    <img src="assets/images/final-chess-software-diagram-2136x1008.png" alt="Logic Diagram">
                    
                </div>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content4 cid-tm3HWosCwq" id="content4-1g">
    

    
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="title col-md-12 col-lg-10">
                <h3 class="mbr-section-title mbr-fonts-style align-center mb-4 display-2">
                    <strong>Electrical</strong></h3>
                
                
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="image2 cid-tm3HZrTVrm" id="image2-1h">
    

    
    

    <div class="container">
        <div class="row align-items-center">
            <div class="col-12 col-lg-6">
                <div class="image-wrapper">
                    <img src="assets/images/chess-matrix-660x400.png" alt="Mobirise Website Builder">
                    <p class="mbr-description mbr-fonts-style mt-2 align-center display-4">
                        Image Description</p>
                </div>
            </div>
            <div class="col-12 col-lg">
                <div class="text-wrapper">
                    <h3 class="mbr-section-title mbr-fonts-style mb-3 display-5">
                        <strong>Chess Matrix</strong></h3>
                    <p class="mbr-text mbr-fonts-style display-7">The 8x8 Hall Effect Sensor Matrix used two CD4051BE multiplexer/decoders to read the digital values of the A3144 Hall effect sensors. This was done by iterating through each of the rows of the matrix using the CD4051BE decoder feeding its output to transistors to only low one of the rows at a time to ground. This activated the hall effect sensors for that row and allowed only those sensors to control the column connected hall effect sensor outputs. The sensor output columns were then read using the CD4051BE multiplexer to iterate through each of the columns and read one sensor at a time. Below is a 2x2 Hall Effect Sensor Matrix illustrating how the multipliers and decoders selected which sensors to read.<br></p>
                </div>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="image1 cid-tm3Pq2ZSBg" id="image1-1i">
    

    
    

    <div class="container">
        <div class="row align-items-center">
            <div class="col-12 col-lg-6">
                <div class="image-wrapper">
                    <img src="assets/images/electromagnet-420x240.png" alt="Mobirise Website Builder">
                    <p class="mbr-description mbr-fonts-style pt-2 align-center display-4">
                    Image Description</p>
                </div>
            </div>
            <div class="col-12 col-lg">
                <div class="text-wrapper">
                    <h3 class="mbr-section-title mbr-fonts-style mb-3 display-5">
                        <strong>Electromagnet</strong></h3>
                    <p class="mbr-text mbr-fonts-style display-7">The electromagnet was controlled using a 2N3904 NPN switching transistor and was powered through a separate power supply at 12v. Below is the schematics for the electromagnet being switched off and on by a transistor.<br><br></p>
                </div>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="image2 cid-tm3PrnEkM7" id="image2-1j">
    

    
    

    <div class="container">
        <div class="row align-items-center">
            <div class="col-12 col-lg-6">
                <div class="image-wrapper">
                    <img src="assets/images/bump-sensor-460x220.png" alt="Mobirise Website Builder">
                    <p class="mbr-description mbr-fonts-style mt-2 align-center display-4">
                        Image Description</p>
                </div>
            </div>
            <div class="col-12 col-lg">
                <div class="text-wrapper">
                    <h3 class="mbr-section-title mbr-fonts-style mb-3 display-5">
                        <strong>Bump Sensor</strong></h3>
                    <p class="mbr-text mbr-fonts-style display-7">The two Nema 17 Stepper motors were connected to A4988 Hybrid Stepper Motor Drivers on a Arduino CNC shield V3.0 mounted on an Arduino Uno R3. The stepper motors were powered from a 12v power supply.To allow the gantry to reset itself and return to a known position, two Hall Effect sensors were installed along the two axes along with magnets mounted to different assemblies for Hall Effect sensors to detect. The outputs Hall effect Sensors were read by the Arduino Uno R3. Below is an image of the schematics for the Hall effect sensors used to detect magnets mounted to the gantry system.<br><br></p>
                </div>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="image4 cid-tm3Pwr1BgZ" id="image4-1k">
    

    
    

    <div class="container">
        <div class="row">
            <div class="col-12 col-lg-6">
                <div class="image-wrapper">
                    <img src="assets/images/power-flow2-1256x814.jpg" alt="Mobirise Website Builder">
                    
                </div>
            </div>
            <div class="col-12 col-lg-6">
                <div class="image-wrapper">
                    <img src="assets/images/data-flow-1256x859.jpg" alt="Mobirise Website Builder">
                    
                </div>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="footer7 cid-tm3DeIwA1r" once="footers" id="footer7-18">

    

    

    <div class="container">
        <div class="media-container-row align-center mbr-white">
            <div class="col-12">
                <p class="mbr-text mb-0 mbr-fonts-style display-7"></p>
            </div>
        </div>
    </div>
</section><section class="display-7" style="padding: 0;align-items: center;justify-content: center;flex-wrap: wrap;    align-content: center;display: flex;position: relative;height: 4rem;"><a href="https://mobiri.se/2899369" style="flex: 1 1;height: 4rem;position: absolute;width: 100%;z-index: 1;"><img alt="" style="height: 4rem;" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="></a><p style="margin: 0;text-align: center;" class="display-7">Made with Mobirise &#8204;</p><a style="z-index:1" href="https://mobirise.com/website-maker.html">Free Website Maker</a></section><script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>  <script src="assets/smoothscroll/smooth-scroll.js"></script>  <script src="assets/ytplayer/index.js"></script>  <script src="assets/dropdown/js/navbar-dropdown.js"></script>  <script src="assets/theme/js/script.js"></script>  
  
  
</body>
</html>