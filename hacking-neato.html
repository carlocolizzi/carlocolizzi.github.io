<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Hacking a Neato - Carlo Colizzi</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.cdnfonts.com/css/roobert" rel="stylesheet">
</head>
<body>
    <!-- Header placeholder -->
    <div id="header-placeholder"></div>

    <main class="case-study-page">
        <!-- Hero Section -->
        <section class="case-study-hero">
            <div class="container">
                <div class="case-study-intro">
                    <div class="case-study-meta">
                        <span class="case-study-year">2022</span>
                        <span class="case-study-category">Robotics & Software Engineering</span>
                    </div>
                    <h1>Hacking a Neato</h1>
                    <p class="case-study-description">A comprehensive project to repurpose and program a Neato robot vacuum for custom behaviors including teleoperation, autonomous navigation, wall following, person following, and obstacle avoidance using ROS and Python.</p>
                    <div class="github-container">
                        <a href="https://github.com/carlocolizzi/neato-hacking" target="_blank" class="github-button">
                            <i class="fab fa-github"></i>
                            View Code
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Overview Section -->
        <section class="case-study-overview">
            <div class="container">
                <div class="overview-grid">
                    <div class="overview-item">
                        <h3>Control Modes</h3>
                        <div class="stat">5</div>
                        <p>Different behavior implementations</p>
                    </div>
                    <div class="overview-item">
                        <h3>Framework</h3>
                        <div class="stat">ROS</div>
                        <p>Robot Operating System integration</p>
                    </div>
                    <div class="overview-item">
                        <h3>Sensors</h3>
                        <div class="stat">LIDAR</div>
                        <p>360° scanning for environment mapping</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Challenge Section -->
        <section class="case-study-implementation">
            <div class="container">
                <div class="section-content">
                    <h2>The Challenge</h2>
                    <div class="implementation-content">
                        <p>Programming a Neato robot vacuum to perform multiple autonomous behaviors presented unique opportunities to explore robotics control systems. The project involved creating intuitive teleoperation controls with reliable stop mechanisms, developing precise motion control for predictable movements and turns, and implementing sensor processing algorithms to detect walls and objects effectively.</p>
                        <p>Building robust PID controllers for smooth wall-following behavior required careful tuning to maintain consistent distance from walls while navigating around corners and obstacles. Additionally, designing a finite state machine to coordinate complex behaviors demanded thoughtful architecture to ensure smooth transitions between different operational modes and reliable performance across various environmental conditions.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Image Section -->
        <section class="image-section" style="margin-bottom: 4rem;">
            <div class="container">
                <div class="section-image">
                    <img src="assets/images/neato-1.jpg" alt="Neato Electronics">
                    <p class="image-caption">Neato Robot Vacuum Electronics</p>
                </div>
            </div>
        </section>

        <!-- Solution Section -->
        <section class="case-study-implementation">
            <div class="container">
                <div class="section-content">
                    <h2>The Solution</h2>
                    <div class="implementation-content">
                        <p>We developed a comprehensive set of controllers and algorithms to enable diverse robot behaviors, including WASD keyboard teleoperation with explicit stop commands, a square-driving algorithm with timed maneuvers and motion pauses, and wall-following using PID control and right-side LIDAR data. The system also incorporated person-following via object detection and position tracking, along with obstacle avoidance using vector-based navigation.</p>
                        <p>Each behavior required specific implementation strategies to ensure reliable operation. The teleoperation system used ROS publishers to send velocity commands based on keyboard input, while the square-driving routine incorporated sleep commands with stop signals between movements. Wall-following utilized the minimum value from the right half of the LIDAR scan (elements 180-359), and person-following included both object detection and position tracking in global coordinates. The obstacle avoidance system combined target vectors with weighted obstacle-avoidance vectors to determine optimal navigation paths.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Implementation Section -->
        <section class="case-study-implementation">
            <div class="container">
                <div class="section-content">
                    <h2>How It Works</h2>
                    <div class="implementation-content">
                        <p>Our teleoperation implementation used the WASD keys for intuitive control, mapping "W" for forward movement, "A" for counterclockwise rotation, "S" for backward movement, and "D" for clockwise rotation. Early testing revealed that the robot wouldn't stop when keys were released, requiring us to implement explicit stop commands triggered by any other key press. For programmed movements, we implemented a loop with sleep commands that alternated between forward motion and 90° turns, adding explicit stop commands with 0.5-second pauses between movements to ensure clean transitions.</p>
                        <p>Our more sophisticated implementations employed sensor processing and control theory. The wall-following algorithm used the minimum laser scan value from the right half of the robot's LIDAR array (elements 180-359) to determine distance to the wall, with a PID controller maintaining a constant 1.0-meter distance from the wall. For person following, we combined object detection by finding the centroid of non-infinite LIDAR points with position tracking, calculating the global position of the detected object and using a PID controller to steer the robot toward that position while maintaining an appropriate following distance.</p>
                        <p>The obstacle avoidance system combined odometry data with LIDAR scans to navigate toward a target while avoiding obstacles. The algorithm created vectors pointing away from detected obstacles weighted by proximity and combined them with the target direction vector to determine the optimal path. This approach enabled the robot to navigate complex environments while maintaining its intended trajectory.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Image Section -->
        <section class="image-section" style="margin-bottom: 4rem;">
            <div class="container">
                <div class="section-image">
                    <img src="assets/images/neato-state-transition.png" alt="Neato State Transition" style="width: 50%; height: auto; display: block; margin: 0 auto; border-radius: 15px;">
                    <p class="image-caption">Neato State Transition Diagram</p>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section class="case-study-implementation">
            <div class="container">
                <div class="section-content">
                    <h2>Finite State Control</h2>
                    <div class="implementation-content">
                        <p>The finite state machine combined object following and wall following behaviors, designed to drive up to a cylindrical object, align to it, and circle around it. The system implemented state transitions based on object detection and proximity, creating smooth transitions between different behavior modes while incorporating safety features to stop the robot when no object is detected.</p>
                        <p>The behavior switching logic operated on clear conditions: when no object was detected, the robot stopped its motors; when an object was detected at a distance greater than 1.1 meters, the robot engaged object following mode; and when an object was detected at a distance less than 1.1 meters, the robot would turn 90 degrees left and then engage wall following mode. Each state used dedicated control algorithms optimized for the specific task, with transition conditions based on real-time sensor feedback.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Performance Section -->
        <section class="case-study-implementation">
            <div class="container">
                <div class="section-content">
                    <h2>Performance Results</h2>
                    <div class="implementation-content">
                        <p>The wall following system successfully followed walls at a constant 1-meter distance, handling both inside and outside corners effectively. The robot was capable of steering 180 degrees around protruding walls, with the PID controller preventing oscillations common in simpler proportional controllers. The system demonstrated reliable performance in the simulated maze environment, proving the effectiveness of the control algorithms.</p>
                        <p>The person following behavior accurately detected and tracked object position in global coordinates, steering smoothly toward the tracked object while adjusting speed based on distance to target. The robot successfully stopped at appropriate distances from objects and performed reliably when object detection was active. The combination of these behaviors created a robust autonomous navigation system capable of complex interactions with its environment.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Next Project -->
        <section class="next-project">
            <div class="container">
                <a href="neato-gestures.html" class="next-project-link">
                    <span>Next Project</span>
                    <h3>Neato Gesture Commands →</h3>
                </a>
            </div>
        </section>
    </main>

    <!-- Footer placeholder -->
    <div id="footer-placeholder"></div>

    <script>
        // Load header
        fetch('components/header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
            });

        // Load footer
        fetch('components/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });
    </script>
    <script src="assets/js/main.js"></script>
</body>
</html>